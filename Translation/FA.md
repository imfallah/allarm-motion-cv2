# ุขูุงุฑู ููุดู๐

<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif"><br><br>
<img src="https://github.com/jokernets/motion_cv2/blob/main/Alarm%20motion(1).gif" width=600px>
<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif"><br><br>


<p align="center">
  <img src="https://img.shields.io/github/last-commit/jokernets/snake-game">
  <img src="https://img.shields.io/github/contributors/jokernets/snake-game">
  <img src="https://img.shields.io/github/issues/jokernets/snake-game">
  <img src="https://img.shields.io/github/stars/jokernets/snake-game">
</p>





## ` ุชุฑุฌูู ๐`

  
- [English](https://github.com/jokernets/snake-game/blob/main/Translatin/FA.md)






ุฌุฏูู ู ููุฑุณุช ูุทุงูุจ โโ
=================

<!--ts-->
   * [ูุตุจ ู ุฑุงู ุงูุฏุงุฒ](#%D9%86%D8%B5%D8%A8-%D9%88-%D8%B1%D8%A7%D9%87-%D8%A7%D9%86%D8%AF%D8%A7%D8%B2%DB%8C)
   * [ุขูุงูุฒ ฺฉุฏูุง๐](#%D8%A2%D9%86%D8%A7%D9%84%DB%8C%D8%B2-%DA%A9%D8%AF-%D9%87%D8%A7-)
     * [ูพุงุฑุช 1โ](#%D9%BE%D8%A7%D8%B1%D8%AA-1)
     * [ูพุงุฑุช 2โ](#%D9%BE%D8%A7%D8%B1%D8%AA-2)
     * [ูพุงุฑุช 3โ](#%D9%BE%D8%A7%D8%B1%D8%AA-3)
     * [ูพุงุฑุช 4โ](#%D9%BE%D8%A7%D8%B1%D8%AA-4)

   * [ููุงุด ูุชุฑู๐ฏ](
#%D9%86%D9%85%D9%88%D9%86%D9%87-%D9%87%D8%A7%DB%8C-%D8%A8%DB%8C%D8%B4%D8%AA%D8%B1-%D8%A7%D8%B2-%D9%88%DB%8C%D8%AA%D8%B1%DB%8C%D9%86)
 
     * [ูุฏู ุงุฒ ูพุฑูฺู๐บ](
#%D9%88%DB%8C%D8%AF%DB%8C%D9%88-%D8%A7%D8%B2-%D9%BE%D8%B1%D9%88%DA%98%D9%87-)
    
   * [`ุงุฑุชุจุงุท ุจุง ูู ๐๐ป`](#%D8%A7%D8%B1%D8%AA%D8%A8%D8%A7%D8%B7-%D8%A8%D8%A7-%D9%85%D9%86-)
<!--te-->



# ุขูุงุฑู ููุดู ๐

## ูพุฑูฺู ูุดุฏุงุฑ ุญุฑฺฉุช ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงูู OpenCV ฺฉ ูพุฑูฺู ุฌุฐุงุจ ู ฺฉุงุฑุจุฑุฏ ุงุณุช ฺฉู ุงูฺฉุงู ุชุดุฎุต ุญุฑฺฉุช ุฑุง ู ุฏูุฏ. ุงู ูพุฑูฺู ุจู ุดูุง ุงูฺฉุงู ู ุฏูุฏ ุจุง ุชุดุฎุต ุญุฑฺฉุช ุฏุฑ ุชุตุงูุฑ ุง ูุฏููุงุ ุงุนูุงู ูุง ุง ุงูุฏุงูุงุช ุฑุง ูุนุงู ฺฉูุฏ. ุงุฒ ุฌููู ฺฉุงุฑุจุฑุฏูุง ุขู ู ุชูุงู ุจู ูุธุงุฑุช ุฏุฑุจุ ุงุนูุงู ุญุฑู ู ุง ุงุทูุงุน ุฑุณุงู ุฏุฑ ููุงูุน ุงุถุทุฑุงุฑ ุงุดุงุฑู ฺฉุฑุฏ. ุงู ูพุฑูฺู ู ุชูุงูุฏ ุจู ุดูุง ุฏุฑ ุจูุจูุฏ ุงููุช ู ฺฉุงุฑุง ุณุณุชู ูุง ุฎูุฏ ฺฉูฺฉ ฺฉูุฏ

### `ูพุดููุงุฏ ูฺฉูู ุชุง ุขุฎุฑ ุชูุถุญุงุช ุจุง ูู ููุฑุงู ุจุงุดุฏ โค`!

#### `ุงุณุชุงุฑ ุงุฏุช ูุฑู `๐๐




# ูุตุจ ู ุฑุงู ุงูุฏุงุฒ

## ฺฉุชุงุจุฎุงูู ุฑุง ุจุง pip ูุตุจ ฺฉูุฏ:

```python
pip install `opencv-python`
pip install imutils
pip install threaded

```
ูุตุจ ููุฌูุฏ ุฑุง ุจู ุฑูุฒ ฺฉูุฏ: `pip3 install (ฺฉุชุงุจุฎุงูู ุดูุง) -- ุงุฑุชูุงุก`
(ุชุง ุญุฏ ุงูฺฉุงู ุจู ุฑูุฒ ุฑุณุงู ฺฉูุฏ ุฒุฑุง ุงู ฺฉุชุงุจุฎุงูู ุฏุฑ ุญุงู ุชูุณุนู ูุนุงู ุงุณุช)


# ุขูุงูุฒ ฺฉุฏ ูุง :



## `ูพุงุฑุช 1`:
- "import threading" - ูุงฺูู threading ุฑุง ูุงุฑุฏ ู ฺฉูุฏุ ฺฉู ุจู ุดูุง ุงูฺฉุงู ู ุฏูุฏ ฺูุฏู ุฑุดุชู ุฑุง ุจู ุทูุฑ ููุฒูุงู ุงุฌุฑุง ฺฉูุฏ.-
- "import winsound" - ูุงฺูู winsound ุฑุง ูุงุฑุฏ ู ฺฉูุฏ ฺฉู ุจู ุดูุง ุงูฺฉุงู ู ุฏูุฏ ุตุฏุง ุฑุง ุฏุฑ ุณุณุชู ูุง ููุฏูุฒ ูพุฎุด ฺฉูุฏ.
- "import cv2" - ฺฉุชุงุจุฎุงูู OpenCV ุฑุง ูุงุฑุฏ ู ฺฉูุฏ ฺฉู ุจุฑุง ฺฉุงุฑูุง ุจูุง ฺฉุงููพูุชุฑ ุงุณุชูุงุฏู ู ุดูุฏ.
- "import imutils" - ฺฉุชุงุจุฎุงูู imutils ุฑุง ูุงุฑุฏ ู ฺฉูุฏุ ฺฉู ุชูุงุจุน ุฑุงุญุช ุฑุง ุจุฑุง ฺฉุงุฑ ุจุง OpenCV ูุฑุงูู ู ฺฉูุฏ.
- `cap = cv2.VideoCapture(0, cv2.CAP_DSHOW)` - ฺฉ ุฏุณุชฺฏุงู ูููุจุฑุฏุงุฑ (ูุจ ฺฉู) ุจุง ุดุงุฎุต ุฏุณุชฺฏุงู 0 ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ DirectShow API ุฏุฑ ููุฏูุฒ ุจุงุฒ ู ฺฉูุฏ.
- `cap.set(cv2.CAP_PROP_FRAME_WIDTH, 640)` - ุนุฑุถ ูุฑู ูุง ูุฏุฆู ฺฏุฑูุชู ุดุฏู ุฑุง ุฑู 640 ูพฺฉุณู ุชูุธู ู ฺฉูุฏ.
- `cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 480)` - ุงุฑุชูุงุน ูุฑู ูุง ูุฏู ฺฏุฑูุชู ุดุฏู ุฑุง ุฑู 480 ูพฺฉุณู ุชูุธู ู ฺฉูุฏ.
- `_, start_frame = cap.read()` - ูุฑู ุฑุง ุงุฒ ุฏุณุชฺฏุงู ุถุจุท ูุฏู ู ุฎูุงูุฏ ู ุขู ุฑุง ุจู ูุชุบุฑ 'start_frame' ุงุฎุชุตุงุต ู ุฏูุฏ.
- `start_frame = imutils.resize(start_frame, width=500)` - ุงูุฏุงุฒู ุชุตูุฑ 'start_frame' ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉุชุงุจุฎุงูู imutils ุจู ุนุฑุถ 500 ูพฺฉุณู ุชุบุฑ ู ุฏูุฏ.
- "start_frame = cv2.cvtColor(start_frame, cv2.COLOR_BGR2GRAY)" - ุชุตูุฑ ุฑูฺฏ "start_frame" ุฑุง ุจู ููุงุณ ุฎุงฺฉุณุชุฑ ุชุจุฏู ู ฺฉูุฏ.
- `strat_frame = cv2.GaussianBlur(start_frame, (21, 21), 0)` - ฺฉ ููุชุฑ ฺฏุงูุณ ุชุงุฑ ุจุง ุงูุฏุงุฒู ูุณุชู (21, -) ุงุนูุงู ู ฺฉูุฏ.
- ุจู ุชุตูุฑ ยซstart_frameยป ุฏุฑ ููุงุณ ุฎุงฺฉุณุชุฑ.

```python
import threading
import  winsound
import cv2
import imutils

cap = cv2.VideoCapture(0,cv2.CAP_DSHOW)
cap.set(cv2.CAP_PROP_FRAME_WIDTH,640)
cap.set(cv2.CAP_PROP_FRAME_HEIGHT,480)

_,start_frame = cap.read()
start_frame = imutils.resize(start_frame,width=500)
start_frame = cv2.cvtColor(start_frame,cv2.COLOR_BGR2GRAY)
strat_frame = cv2.GaussianBlur(start_frame,(21,21),0)
```
<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif"><br><br>
<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif"><br><br>

# Adding Define in project

## `ูพุงุฑุช 2`:

- `alarm = False`: ูุชุบุฑ "alarm" ุฑุง ุจู ุตูุฑุช "False" ุฑุงู ุงูุฏุงุฒ ู ฺฉูุฏ.
- `alarm_mode = False`: ูุชุบุฑ "alarm_mode" ุฑุง ุจู ุตูุฑุช "False" ุฑุงู ุงูุฏุงุฒ ู ฺฉูุฏ.
- `alarm_counter = 0`: ูุชุบุฑ "alarm_counter" ุฑุง ุจู ุตูุฑุช "0" ุฑุงู ุงูุฏุงุฒ ู ฺฉูุฏ.
- `def beep_alarm():`: ุชุงุจุน ุจู ูุงู "beep_alarm" ุฑุง ุชุนุฑู ู ฺฉูุฏ.
- `global alarm`: ุงุนูุงู ู ฺฉูุฏ ฺฉู ูุชุบุฑ `alarm` ุฏุฑ ุฏุงุฎู ุชุงุจุน ุจู ูุชุบุฑ ุฌูุงู ุจุง ููู ูุงู ุงุดุงุฑู ุฏุงุฑุฏ.
- `for _ in range(5):`: ุญููู ุง ุฑุง ุดุฑูุน ู ฺฉูุฏ ฺฉู 5 ุจุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุฒุฑุฎุท `_` ุจู ุนููุงู ูุชุบุฑ ุญููู ุงุฌุฑุง ู ุดูุฏ (ุงุฒ ุขูุฌุง ฺฉู ุฏุฑ ุฏุงุฎู ุญููู ุงุณุชูุงุฏู ูู ุดูุฏ).
- "ุงฺฏุฑ ูู ุญุงูุช_ุฒูฺฏ: ุดฺฉุณุช": ุจุฑุฑุณ ู ฺฉูุฏ ฺฉู "ุญุงูุช_ุฒูฺฏ" "ูุงุฏุฑุณุช" ุงุณุช ุง ุฎุฑุ ุงฺฏุฑ ุฏุฑุณุช ุจุงุดุฏ ุงุฒ ุญููู ุฎุงุฑุฌ ู ุดูุฏ.
- `winsound.Beep(2500,100)`: ุชุงุจุน "Beep" ุฑุง ุงุฒ ูุงฺูู "winsound" ุจุง ูุฑฺฉุงูุณ "2500" ู ูุฏุช ุฒูุงู "100" ุจุฑุง ุชููุฏ ุตุฏุง ุจูู ูุฑุงุฎูุงู ู ฺฉูุฏ.
- `alarm = False`: ูุชุบุฑ "alarm" ุฑุง ุฑู "False" ุชูุธู ู ฺฉูุฏ.
```python

alarm = False 
alarm_mode = False
alarm_counter = 0 

def beep_alarm():
    global alarm 
    for _ in range(5):
        if not alarm_mode:
            break 
        #print("ALARM")
        winsound.Beep(2500,100)
    alarm = False 
```
<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif"><br><br>
<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif"><br><br>

## `ูพุงุฑุช 3`:
- ุญููู "while True:" ุจู ุทูุฑ ูุฏุงูู ุงุฌุฑุง ู ุดูุฏ ู ูุฑู ูุง ุฏูุฑุจู ุฑุง ู ฺฏุฑุฏ ("cap.read()").

- ุงูุฏุงุฒู ูุฑู ฺฏุฑูุชู ุดุฏู ุจู ุนุฑุถ 500 ูพฺฉุณู ุจุง ุงุณุชูุงุฏู ุงุฒ "imutils.resize()" ุชุบุฑ ู ฺฉูุฏ.

- ุงฺฏุฑ "ุญุงูุช_ุฒูฺฏ" ูุนุงู ุจุงุดุฏ:
     ุข. ูุงุจ ุจู ููุงุณ ุฎุงฺฉุณุชุฑ ุชุจุฏู ุดุฏู ุงุณุช (`cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)`).
     ุจ ุชุงุฑ ฺฏุงูุณ ุฑู ูุงุจ ุฎุงฺฉุณุชุฑ ุงุนูุงู ู ุดูุฏ.
     ุฌ. ุชูุงูุช ุจู ูุงุจ ฺฉููู ู ยซูุฑู_ุดุฑูุนยป ูุญุงุณุจู ูโุดูุฏ.
     ุฏ ฺฉ ุขุณุชุงูู ุจุฑุง ุจุฑุฌุณุชู ฺฉุฑุฏู ุชุบุฑุงุช ุจู ุชูุงูุช ุงุนูุงู ู ุดูุฏ.
     ู. ุงฺฏุฑ ูุฌููุน ููุงุฏุฑ ุขุณุชุงูู ุงุฒ ุขุณุชุงูู ูุนู (ุฏุฑ ุงู ููุฑุฏ 1000ยป ุชุฌุงูุฒ ฺฉูุฏุ ุฒูฺฏ ูุดุฏุงุฑ ุงุฌุงุฏ ู ุดูุฏ.

- ุงฺฏุฑ ุดูุงุฑูุฏู ุฒูฺฏ ุงุฒ ฺฉ ุขุณุชุงูู (`20`) ูุฑุงุชุฑ ุฑูุช ู ุฒูฺฏ ูุดุฏุงุฑ ูุจูุงู ูุนุงู ูุดุฏู ุจุงุดุฏุ ฺฉ ุฑุดุชู ุฌุฏุฏ ุจุฑุง ุดุฑูุน ุฒูฺฏ ุงุฌุงุฏ ู ุดูุฏ.

-ุจุฑูุงูู ุจู ูุฑูุฏ ูุง ฺฉูุฏ ฺฏูุด ู ุฏูุฏ. ุจุง ูุดุงุฑ ุฏุงุฏู 't' ุญุงูุช ุฒูฺฏ ูุดุฏุงุฑ ุชุบุฑ ู ฺฉูุฏ ู ุจุง ูุดุงุฑ ุฏุงุฏู 'q' ุงุฒ ุจุฑูุงูู ุฎุงุฑุฌ ู ุดูุฏ.

- ุชุงุจุน 'beep_alarm()' (ฺฉู ุฏุฑ ฺฉุฏ ุงุฑุงุฆู ุดุฏู ูุดุงู ุฏุงุฏู ูุดุฏู ุงุณุช) ุงุญุชูุงูุงู ูุณุฆูู ุชููุฏ ุตุฏุง ุฒูฺฏ ูุดุฏุงุฑ ุงุณุช.

```python

while True:
    _,frame = cap.read()
    frame = imutils.resize(frame,width=500)

    if alarm_mode : 
        frame_bw = cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)
        frame_bw = cv2.GaussianBlur(frame_bw,(5,5),0)
        diffrence = cv2.absdiff(frame_bw,start_frame)
        threshold = cv2.threshold(diffrence,25,255,cv2.THRESH_BINARY)[1]
        start_frame = frame_bw 
        
        if threshold.sum()> 1000 :
            print(threshold.sum())
            alarm_counter += 1 
            
        else : 
            if alarm_counter > 0 : 
                alarm_counter -= 1 
        cv2.imshow("Cam",threshold)
    else: 
        cv2.imshow("Cam",frame)
            
    if alarm_counter > 20 :
        if not alarm : 
            alarm = True 
            threading.Thread(target=beep_alarm).start()  
    key_pressed = cv2.waitKey(30)
    if key_pressed == ord("t"):
        alarm_mode = not alarm_mode 
        alarm_counter = 0
    if key_pressed == ord("q"):
        alarm_mode = False 
        break    
```

## `ูพุงุฑุช 4`:
ุฏุฑ ุงูุฌุง ฺฉ ุชูฺฉฺฉ ฺฉุฏ ุฎุท ุจู ุฎุท ุงุณุช:

- `cap.release()`: ุงู ุฎุท ุดุก ุถุจุท ูุฏู 'cap' ุฑุง ุขุฒุงุฏ ู ฺฉูุฏุ ฺฉู ุจุฑุง ููู ุจุฑุฏุงุฑ ุงุฒ ฺฉ ุฏูุฑุจู ุง ูุงู ูุฏู ุงุณุชูุงุฏู ู ุดูุฏ. ุฑูุง ฺฉุฑุฏู ุด capture ุจุฑุง ุขุฒุงุฏ ฺฉุฑุฏู ููุงุจุน ุณุณุชู ููู ุงุณุช.
- `cv2.destroyAllWindows()`: ุงู ุฎุท ุชูุงู ูพูุฌุฑู ูุง OpenCV ุฑุง ฺฉู ุฏุฑ ุญุงู ุญุงุถุฑ ุจุงุฒ ูุณุชูุฏ ู ุจูุฏุฏ. ุงู ุจุฑุง ุชูุฒ ฺฉุฑุฏู ูพูุฌุฑูโูุง ฺฉู ููฺฉู ุงุณุช ุฏุฑ ุญู ูพุฑุฏุงุฒุด ุชุตูุฑ ุง ูุฏู ุจุงุฒ ุดุฏู ุจุงุดูุฏ ููุฏ ุงุณุช.

```python
cap.release()
cv2.destroyAllWindows()
```

<img src="https://github.com/jokernets/motion_cv2/blob/main/Cam%202024-04-18%2022_17_44.png" width="300" height="300">
<img src="https://user-images.githubusercontent.com/73097560/115834477-dbab4500-a447-11eb-908a-139a6edaec5c.gif"><br><br>





## ููููู ูุง ุจุดุชุฑ ุงุฒ ูุชุฑู๐๐

### ูุฏู ุงุฒ ูพุฑูฺู ๐บ





# `ุงุฑุชุจุงุท ุจุง ูู `๐๐ป

<a herf="https://www.buymeacoffee.com/jokernets"><img src="https://cdn.buymeacoffee.com/buttons/v2/arial-yellow.png" alt="Buy Me A Coffee" width="180px">
<a href="mailto:joker.until33@gmail.com"><img align="center" width="60px" src="https://github.com/edent/SuperTinyIcons/raw/master/images/svg/gmail.svg" style="max-width: 100%;"></a><a href="https://www.linkedin.com/" target="blank"><img align="center" src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/linked-in-alt.svg" alt="https://www.linkedin.com/in/imfallah/" height="40" width="60" /></a>
